<div class="recPost">
  <h2>Post #<%= @post.id %> by <%= @post.author.name %></h2>
   <div class="comLik">
  <p class="postCom">Comments: <%= @post.comments.count %>, Likes: <%= @post.likes.count %></p>
  </div>
  <div class='userPost'>
    <p><%= @post.text %></p>
  </div>
  
</div>

<div>

<%= form_for(@post.likes.new, url: user_post_likes_path(@post.author, @post)) do |f| %>
            <%= f.hidden_field :author_id, value: @current_user %>
            <%= f.submit "Like Post", class: "seeAllPostBtn" %>
          <% end %>

<%= link_to "Add Comment", new_user_post_comment_path(@user, @post), class: "commentBtn" %>

</div>

<h2>Comments</h2>
<div class="userCom">
  <% @comments = @post.comments %>
  <% @comments.each do |comment| %>
    <div class="comment-card">
      <% if comment.user.present? %>
        <p><strong><%= comment.user.name %>:</strong> <%= comment.text %></p>
      <% else %>
        <p><strong>Anonymous:</strong> <%= comment.text %></p>
      <% end %>
    </div>
  <% end %>

  <% if can? :destroy, @post %>
    <%= link_to 'Delete', @post, method: :delete, data: { confirm: 'Are you sure you want to delete this post?' } %>
  <% else %>
    <p>You are not authorized to delete this post.</p>
  <% end %>

</div>
